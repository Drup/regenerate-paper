\newcommand\code[2][]{\mbox{\lstinline[#1,basicstyle=\ttfamily\normalsize]{#2}}}
% Colors!
\definecolor{butter}{HTML}{C4A000}
\definecolor{orange}{HTML}{CE5C00}
\definecolor{chocolate}{HTML}{8F5902}
\definecolor{chameleon}{HTML}{4E9A06}
\definecolor{skyblue}{HTML}{204A87}
\definecolor{plum}{HTML}{5C3566}
\definecolor{scarletred}{HTML}{A40000}
\definecolor{lightalu}{HTML}{BABDB6}
\definecolor{darkalu}{HTML}{2E3436}
\newcommand{\kwstyle}{}

\lstdefinelanguage{Haskell}{
  otherkeywords={|,=>,<=,<,>,<>,::,=,@,||,\$},%
  keywords=[1]{if,then,else,case,of,in,let,where,do},
  keywords=[2]{class,data,newtype,deriving,type},%
  keywords=[3]{hiding,infix,infixl,infixr,import,instance,module,qualified},%
  keywordstyle=\kwstyle,
  keywordstyle=[1]\kwstyle\color{chameleon},
  keywordstyle=[2]\kwstyle\color{scarletred},
  keywordstyle=[3]\kwstyle\color{skyblue},
  keywordstyle=[4]\kwstyle\color{butter},
  keywordstyle=[5]\kwstyle\color{skyblue},
  keywordstyle=[6]\kwstyle\color{skyblue},
  keywordstyle=[7]\kwstyle\color{chameleon},
  keywordstyle=[8]\kwstyle\color{butter},
  keywordstyle=[9]\kwstyle\color{butter},
  sensitive,%
  comment=[l]{--},%
  comment=[n]{\{-}{-\}},%
  string=[b]",%
  literate={->}{{{\kwstyle\color{chameleon}->}}}2
}%

%% Code listing
\lstset{
  tabsize=4,
  aboveskip={0.5\baselineskip},
  belowcaptionskip=0.5\baselineskip,
  columns=fixed,keepspaces,
  showstringspaces=false,
  extendedchars=true,
  breaklines=true,
  frame=none,
  basicstyle=\small\ttfamily, %\scriptsize\ttfamily
  keywordstyle=\bfseries,
  commentstyle=\itshape\color{gray},
  % identifierstyle=\color{blue!80!black},
  stringstyle=\color{purple!40!black},
  numbersep=5pt,
  numberstyle=\tiny\color{gray},
  escapeinside={(*@}{@*)},
  numbers=left,
  emphstyle=\color{green!60!black}\bfseries,
  emphstyle={[2]\color{blue!60!black}\bfseries},
  language=Haskell
}


%%% regular expressions
\newcommand\Rnull{\mathbf0}
\newcommand\Rempty{\mathbf1}
\newcommand\Runion[1]{#1 +}
\newcommand\Rconcat[1]{#1 \cdot}
\newcommand\Rstar[1]{#1^*}
\newcommand\Rintersect[1]{#1 \with}
\newcommand\Rcomplement{\texttt{\textasciitilde}}

\newcommand\Lang[1]{\llbracket#1\rrbracket}

%%% misc
\newcommand\ltext[1]{\makebox[0pt][r]{\text{#1}\quad}}
\newcommand\lleq{\le_{ll}}

\newcommand\FPS[2][\Sigma]{#2\langle\!\langle#1^*\rangle\!\rangle}
